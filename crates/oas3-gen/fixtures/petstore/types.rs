#![allow(clippy::doc_markdown)]
#![allow(clippy::large_enum_variant)]
#![allow(clippy::missing_panics_doc)]
#![allow(clippy::result_large_err)]
//!
//! AUTO-GENERATED CODE - DO NOT EDIT!
//!
//! Swagger Petstore
//! Source: crates/oas3-gen/fixtures/petstore.json
//! Version: 1.0.0
//! Generated by `oas3-gen v0.17.2`
//!
//! No description provided

use serde::Deserialize;
///Create a pet
#[derive(Debug, Clone, oas3_gen_support::Default, validator::Validate)]
pub struct CreatePetsRequest {}
impl CreatePetsRequest {
    ///Render the request path with parameters.
    pub fn render_path(&self) -> anyhow::Result<String> {
        Ok("pets".to_string())
    }
    ///Parse the HTTP response into the response enum.
    pub async fn parse_response(
        req: reqwest::Response,
    ) -> anyhow::Result<CreatePetsResponse> {
        let status = req.status();
        if status.is_success() {
            let _ = req.bytes().await?;
            return Ok(CreatePetsResponse::Created);
        }
        let data = req.json::<Error>().await?;
        Ok(CreatePetsResponse::UnexpectedError(data))
    }
}
///Response types for createPets
#[derive(Clone, Debug)]
pub enum CreatePetsResponse {
    ///201: Null response
    Created,
    ///default: unexpected error
    UnexpectedError(Error),
}
#[derive(Debug, Clone, PartialEq, oas3_gen_support::Default, Deserialize)]
pub struct Error {
    pub code: i32,
    pub message: String,
}
///List all pets
#[derive(Debug, Clone, oas3_gen_support::Default, validator::Validate)]
pub struct ListPetsRequest {
    ///How many items to return at one time (max 100)
    ///(Location: Query)
    pub limit: Option<i32>,
}
impl ListPetsRequest {
    ///Render the request path with parameters.
    pub fn render_path(&self) -> anyhow::Result<String> {
        use std::fmt::Write as _;
        let mut path = "pets".to_string();
        let mut prefix = '\0';
        if let Some(value) = &self.limit {
            prefix = if prefix == '\0' { '?' } else { '&' };
            write!(
                & mut path, "{prefix}limit={}",
                oas3_gen_support::percent_encode_query_component(&
                oas3_gen_support::serialize_query_param(value) ?)
            )
                .unwrap();
        }
        Ok(path)
    }
    ///Parse the HTTP response into the response enum.
    pub async fn parse_response(
        req: reqwest::Response,
    ) -> anyhow::Result<ListPetsResponse> {
        let status = req.status();
        if status.is_success() {
            let data = req.json::<Pets>().await?;
            return Ok(ListPetsResponse::Ok(data));
        }
        let data = req.json::<Error>().await?;
        Ok(ListPetsResponse::UnexpectedError(data))
    }
}
///Response types for listPets
#[derive(Clone, Debug)]
pub enum ListPetsResponse {
    ///200: A paged array of pets
    Ok(Pets),
    ///default: unexpected error
    UnexpectedError(Error),
}
#[derive(Debug, Clone, PartialEq, oas3_gen_support::Default, Deserialize)]
pub struct Pet {
    pub id: i64,
    pub name: String,
    pub tag: Option<String>,
}
pub type Pets = Vec<Pet>;
///Info for a specific pet
#[derive(Debug, Clone, oas3_gen_support::Default, validator::Validate)]
pub struct ShowPetByIdRequest {
    ///The id of the pet to retrieve
    ///(Location: Path)
    #[validate(length(min = 1))]
    pub pet_id: String,
}
impl ShowPetByIdRequest {
    ///Render the request path with parameters.
    pub fn render_path(&self) -> anyhow::Result<String> {
        Ok(
            format!(
                "pets/{}", oas3_gen_support::percent_encode_path_segment(&
                oas3_gen_support::serialize_query_param(& self.pet_id) ?)
            ),
        )
    }
    ///Parse the HTTP response into the response enum.
    pub async fn parse_response(
        req: reqwest::Response,
    ) -> anyhow::Result<ShowPetByIdResponse> {
        let status = req.status();
        if status.is_success() {
            let data = req.json::<Pet>().await?;
            return Ok(ShowPetByIdResponse::Ok(data));
        }
        let data = req.json::<Error>().await?;
        Ok(ShowPetByIdResponse::UnexpectedError(data))
    }
}
///Response types for showPetById
#[derive(Clone, Debug)]
pub enum ShowPetByIdResponse {
    ///200: Expected response to a valid request
    Ok(Pet),
    ///default: unexpected error
    UnexpectedError(Error),
}

